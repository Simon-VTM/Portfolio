<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projekter</title>
  <meta name="description" content="Oversigt over projekter: 1.–4. semester samt valgfag (Revit-modellering, Sikkerhed, Fra program til dispositionsforslag).">
  <style>
    :root{
      --bg:#ffffff; --text:#17202a; --muted:#5f6b7a; --border:#e6e8eb; --brand:#2563eb; --brand-2:#1d4ed8;
      --chip-bg:#eef2ff; --chip-b:#e0e7ff; --chip-t:#334155;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial; color:var(--text); background:var(--bg)}
    .container{max-width:1100px; margin-inline:auto; padding-inline:20px}

    header{position:sticky; top:0; z-index:50; background:#ffffffd9; -webkit-backdrop-filter: blur(8px); backdrop-filter: blur(8px); border-bottom:1px solid var(--border)}
    nav{display:flex; align-items:center; justify-content:space-between; padding:14px 0; min-height:52px;}
    .brand{font-weight:700; white-space:nowrap; flex-shrink:0;}
    .nav-links{display:flex; gap:18px; flex-wrap:wrap;}
    .nav-links a{color:var(--text); text-decoration:none; padding:8px 10px; border-radius:10px; white-space:nowrap;}
    .nav-links a:hover{background:#f3f4f6}

    /* Mobile navigation adjustments */
    @media (max-width: 680px) {
      .nav-links{gap:12px; font-size:14px;}
      .nav-links a{padding:6px 8px;}
    }
    @media (max-width: 520px) {
      nav{flex-wrap:wrap; gap:8px;}
      .brand{order:1; flex-basis:100%; text-align:center; margin-bottom:4px;}
      .nav-links{order:2; flex-basis:100%; justify-content:center; gap:8px;}
      .nav-links a{padding:4px 6px; font-size:13px;}
    }

    /* ================= SLIDESHOW (minimalistisk) ================ */
    .slideshow-section{
      background: linear-gradient(180deg, #f7f9fc 0%, #ffffff 100%);
      padding: 20px 0;
      position: relative;
      overflow: hidden;
    }
    .slideshow-container{
      position: relative;
      max-width: 1100px;
      margin: 0 auto;
      height: 60vh;
      min-height: 400px;
      max-height: 600px;

      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,.06);
      overflow: hidden;
    }
    .slides{ position: relative; width: 100%; height: 100%; }
    .slide{
      position: absolute; inset:0; opacity:0; transition: opacity .8s ease-in-out;
      display:flex; align-items:center; justify-content:center;
    }
    .slide.active{ opacity:1; }
    .slide-content{
      display:flex; align-items:center; gap:28px; max-width:1000px;
      padding:28px 24px; color:#0f172a; height:100%;
    }
    .slide-image{
      flex:1; max-width:50%; height:80%; display:flex; align-items:center; justify-content:center; position:relative; cursor:pointer;
    }
    .project-images{ position:relative; width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
    .project-image{ position:absolute; inset:0; opacity:0; transition:opacity .5s ease-in-out; display:flex; align-items:center; justify-content:center; }
    .project-image.active{ opacity:1; }
    .project-image img{
      max-width:100%; max-height:100%; object-fit:contain; border-radius:14px;
      box-shadow:0 16px 40px rgba(0,0,0,.08);
      background:#fff;
    }

    .image-nav{ position:absolute; bottom:-40px; left:50%; transform:translateX(-50%); display:flex; gap:6px; z-index:5; }
    .image-dot{ width:8px; height:8px; border-radius:50%; background:#e5e7eb; border:none; cursor:pointer; }
    .image-dot.active{ background:#a7b4c2; }

    .project-image-arrow{
      position:absolute; top:50%; transform:translateY(-50%); width:30px; height:30px; border-radius:50%;
      background: rgba(255,255,255,.55); border:1px solid rgba(0,0,0,.06); color:#0f172a;
      display:flex; align-items:center; justify-content:center; font-size:14px; cursor:pointer; opacity:0; transition:.2s;
      z-index:6;
    }
    .slide-image:hover .project-image-arrow{ opacity:.85; }
    .project-image-arrow.prev{ left:10px; } .project-image-arrow.next{ right:10px; }

    .slide-text{ flex:1; max-width:50%; padding:20px; color:#0f172a; }
    .slide-title{ font-size: clamp(24px, 4vw, 36px); font-weight:800; margin:0 0 12px; line-height:1.2; }
    .slide-description{ font-size: clamp(16px, 2.5vw, 20px); line-height:1.6; margin:0 0 16px; color:#334155; }
    .slide-tags{ display:flex; flex-wrap:wrap; gap:8px; }
    .slide-tag{ background:#fff; border:1px solid var(--border); padding:6px 12px; border-radius:20px; font-size:12px; font-weight:500; color:#4b5563; }

    /* Navigation */
    .slideshow-nav{
      position:absolute; bottom:22px; left:50%; transform:translateX(-50%); display:flex; gap:10px; z-index:10;
    }
    .nav-dot{ width:8px; height:8px; border-radius:50%; background:#e5e7eb; border:none; cursor:pointer; transition:.2s; }
    .nav-dot.active{ background:#a7b4c2; }

    /* Arrow Navigation (slideshow) */
    .slide-arrow{
      position:absolute; top:50%; transform:translateY(-50%); background:rgba(255,255,255,.6);
      border:1px solid rgba(0,0,0,.07); color:#111; width:42px; height:42px; border-radius:50%;
      display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:18px; transition:.2s; z-index:10;
    }
    .slide-arrow:hover{ background:rgba(255,255,255,.9); transform:translateY(-50%) scale(1.05); }
    .slide-arrow.prev{ left: 20px; } .slide-arrow.next{ right:20px; }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .slideshow-container{ height: 50vh; min-height: 350px; }
      .slide-content{ flex-direction:column; text-align:center; gap:20px; padding:20px; }
      .slide-image, .slide-text{ max-width:100%; flex:none; }
      .slide-image{ height: 40%; min-height: 200px; }
      .slide-arrow{ display: none; } /* Hide arrows on mobile */
      .project-image-arrow{ display: none; } /* Hide project image arrows on mobile */
    }

    /* Ensure images are visible on mobile */
    @media (max-width: 768px) {
      .project-image img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
      }
      .slide-image {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .project-images {
        width: 100%;
        height: 100%;
        position: relative;
      }
    }

    /* ====== Cards og layout under slideshow (uændret) ====== */
    main{padding:36px 0}
    h1{font-size: clamp(28px, 5vw, 44px); line-height:1.15; margin:0 0 6px}
    .lead{color:var(--muted); margin:0 0 16px}
    .toolbar{display:flex; gap:10px; flex-wrap:wrap; margin:14px 0 26px}
    .btn{display:inline-flex; align-items:center; gap:.5rem; padding:10px 14px; border-radius:12px; text-decoration:none; border:1px solid var(--border); color:var(--text); background:#fff}
    .btn[aria-pressed="true"]{border-color:var(--brand); box-shadow:0 0 0 3px rgba(37,99,235,.15)}

    .section{margin:18px 0 34px}
    .section h2{font-size: clamp(22px, 3.6vw, 30px); margin:0 0 10px}
    .grid{display:grid; gap:16px}
    .grid.three{grid-template-columns:1fr 1fr 1fr}
    .grid.two{grid-template-columns:1fr 1fr}
    @media (max-width:980px){ .grid.three{grid-template-columns:1fr 1fr} }
    @media (max-width:980px){ .grid.three,.grid.two{grid-template-columns:1fr} }

    .card{border:1px solid var(--border); border-radius:18px; background:#fff; display:flex; flex-direction:column; overflow:hidden; height:100%}
    .thumb{aspect-ratio:16/9; background:linear-gradient(180deg,#f8fafc,#fff); border-bottom:1px solid var(--border); flex-shrink:0; min-height:200px; display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden}
    .inner{padding:16px; display:flex; flex-direction:column; flex:1}
    .text{color:var(--text); flex:1; min-height:4.8em}
    .chips{display:flex; flex-wrap:wrap; gap:8px; margin-top:auto; padding-top:10px}
    .chip{font-size:12px; color:var(--chip-t); background:var(--chip-bg); border:1px solid var(--chip-b); padding:5px 9px; border-radius:999px}
    .card-link{ display:block; text-decoration:none; color:inherit; height:100%}
    .card{ cursor:pointer; transition:transform .08s ease, box-shadow .15s ease }
    .card-link:hover .card{ transform:translateY(-2px); box-shadow:0 8px 24px rgba(0,0,0,.08) }
    .card-link:focus-visible .card{ box-shadow:0 0 0 3px rgba(37,99,235,.35) }
    .actions{ display:none }

    /* Disabled card styles */
    .card-disabled {
      opacity: 0.6;
      cursor: not-allowed !important;
      pointer-events: none;
    }
    .card-disabled .card {
      cursor: not-allowed !important;
    }
    .card-disabled:hover .card {
      transform: none !important;
      box-shadow: none !important;
    }

    #semestre .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); gap:16px; align-items: stretch;}
    #valgfag  .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); gap:16px; align-items: stretch;}
    #semestre .grid > *, #valgfag .grid > *{ min-width:0; height: 100%;}
    @media (max-width:980px){ #valgfag .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media (max-width:680px){ #semestre .grid, #valgfag  .grid{ grid-template-columns: 1fr; } }

    .thumb img{ width:100%; height:100%; object-fit:cover; display:block }
    .thumb::after{
      content:""; position:absolute; inset:0;
      background:linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,.55) 100%);
      pointer-events:none; z-index:1;
    }
    .thumb-overlay{
      position:absolute; left:16px; bottom:14px; z-index:2; color:#fff; font-weight:800;
      font-size:clamp(18px, 2.6vw, 28px); line-height:1.1; letter-spacing:.2px;
      text-shadow:0 2px 6px rgba(0,0,0,.45);
      display:flex; align-items:center; gap:10px; pointer-events:none;
    }

    /* ================= LIGHTBOX ================= */
    .lightbox{
      position:fixed; inset:0; background:rgba(0,0,0,.88);
      display:none; align-items:center; justify-content:center; z-index:9999;
      padding:32px 24px; /* plads rundt om scenen så info kan stå under */
    }
    .lightbox.open{ display:flex; }

    /* Saml billede + info i en lodret kolonne */
    .lb-stage{
      display:flex; flex-direction:column; align-items:center; gap:12px;
      max-width:92vw; max-height:88vh;
    }

    .lb-img{
      max-width:92vw; max-height:76vh; object-fit:contain;
      border-radius:12px; box-shadow:0 20px 60px rgba(0,0,0,.6);
      will-change: transform;
      transition: transform .12s ease-out;
      cursor: default;
      background:#111;
    }

    .lb-btn{
      position:absolute; top:50%; transform:translateY(-50%);
      width:54px; height:54px; border-radius:50%; border:1px solid rgba(255,255,255,.35);
      background:rgba(255,255,255,.15); color:#fff; font-size:24px; cursor:pointer;
      display:flex; align-items:center; justify-content:center; transition:.2s;
    }
    .lb-btn:hover{ background:rgba(255,255,255,.25); transform:translateY(-50%) scale(1.06); }
    .lb-prev{ left:24px; } .lb-next{ right:24px; }
    .lb-close{ top:20px; right:20px; transform:none; width:44px; height:44px; font-size:18px; }
    .lb-counter{
      position:absolute; bottom:20px; left:50%; transform:translateX(-50%);
      color:#fff; font-weight:600; background:rgba(0,0,0,.35);
      padding:6px 10px; border-radius:10px; font-size:14px;
    }

    /* Info-panelet UNDER billedet (mørkere baggrund) */
    .lb-info{
      position: static !important;
      width: min(900px, 92vw);
      margin-top: 6px;
      background: rgba(17,17,17,.78);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 12px;
      color:#fff; padding: 14px 16px;
      box-shadow: 0 10px 28px rgba(0,0,0,.38);
      backdrop-filter: blur(4px);
    }
    .lb-title{ margin:0 0 8px; font-size:18px; font-weight:800; }
    .lb-desc{ margin:0 0 10px; font-size:14px; line-height:1.5; opacity:.95; }
    .lb-more{
      display:inline-flex; align-items:center; gap:6px; text-decoration:none; color:#fff; font-weight:700;
      border-bottom: 1px solid rgba(255,255,255,.35); padding-bottom:2px;
    }
    .lb-more:hover{ opacity:.9 }

    /* Skjul semester-pill og evt. zoom-HUD hvis til stede */
    .lb-semester{ display:none !important; }
    .zoom-hud{ display:none !important; }

    @media (max-width: 820px){
      .lb-info{ width:100%; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <div class="brand">Simon Vad Møller - Portfolio</div>
        <div class="nav-links">
          <a href="index.html">Hjem</a>
          <a href="index.html">Om Mig</a>
          <a href="#" aria-current="page" style="font-weight:600">Projekter</a>
          <a href="index.html#kontakt">Kontakt</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- SLIDESHOW SECTION -->
  <section class="slideshow-section">
    <div class="slideshow-container">
      <div class="slides">
        <!-- Slide 1: 1. semester -->
        <div class="slide active">
          <div class="slide-content">
            <div class="slide-image">
              <div class="project-images" data-project="1">
                <div class="project-image active">
                  <img src="billeder/rendering-1.png" alt="Rendering" loading="eager">
                </div>
                <div class="project-image">
                  <img src="billeder/1-semester/IBKE22B_K01_F1_H1_EST_N01_ZStueplan.jpg" alt="Stueplan" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/1-semester/IBKE22B_K01_F1_H2_EX_N02_Z Facade Syd.jpg" alt="Syd facade" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/1-semester/IBKE22B_K01_F1_H5_EST_N04_Z Dør bund detalje.jpg" alt="Detalje – Dør bund" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/1-semester/IBKE22B_K01_F1_H5_ET_N01_Z Tagfod detalje.jpg" alt="Detalje – Tagfod" loading="lazy">
                </div>
              </div>
              <button class="project-image-arrow prev" onclick="changeProjectImage(1, -1)">‹</button>
              <button class="project-image-arrow next" onclick="changeProjectImage(1, 1)">›</button>
              <div class="image-nav">
                <button class="image-dot active" onclick="showProjectImage(1, 1)"></button>
                <button class="image-dot" onclick="showProjectImage(1, 2)"></button>
                <button class="image-dot" onclick="showProjectImage(1, 3)"></button>
                <button class="image-dot" onclick="showProjectImage(1, 4)"></button>
                <button class="image-dot" onclick="showProjectImage(1, 5)"></button>
              </div>
            </div>
            <div class="slide-text">
              <h2 class="slide-title">1. Semester Enfamiliehus</h2>
              <p class="slide-description">På 1. semester blev der udarbejdet skitseforslag, projektforslag, myndighedsprojekt efter BR18 og lokalplan samt indledende udbudsprojekt for et enfamiliehus i 1½ plan.</p>
              <div class="slide-tags">
                <span class="slide-tag">Myndighedsprojekt</span>
                <span class="slide-tag">Bygningsfysik</span>
                <span class="slide-tag">Materialevalg</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 2: 2. semester -->
        <div class="slide">
          <div class="slide-content">
            <div class="slide-image">
              <div class="project-images" data-project="2">
                <div class="project-image active">
                  <img src="billeder/2-semester.jpg" alt="Visualisering" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/2-semester/K01-H1-E0X-N001-Beliggenhedsplan.jpg" alt="Beliggenhedsplan" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/2-semester/K01-H1-EST-N009-Brandplan-stueplan.jpg" alt="Brandplan stueplan" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/2-semester/K01-H5-E01-N005-Murkrone-let.jpg" alt="Detalje – Murkrone let" loading="lazy">
                </div>
              </div>
              <button class="project-image-arrow prev" onclick="changeProjectImage(2, -1)">‹</button>
              <button class="project-image-arrow next" onclick="changeProjectImage(2, 1)">›</button>
              <div class="image-nav">
                <button class="image-dot active" onclick="showProjectImage(2, 1)"></button>
                <button class="image-dot" onclick="showProjectImage(2, 2)"></button>
                <button class="image-dot" onclick="showProjectImage(2, 3)"></button>
                <button class="image-dot" onclick="showProjectImage(2, 4)"></button>
              </div>
            </div>
            <div class="slide-text">
              <h2 class="slide-title">2. Semester Tæt-lavt boligområde</h2>
              <p class="slide-description">På 2. semester blev der arbejdet med projektering af et tæt-lavt boligområde med fælleshus. 
                Opgaven omfattede forslagsprojekt, myndighedsprojekt efter BR18 og lokalplan samt indledende udbudsprojekt, 
                med fokus på arealudnyttelse, bæredygtige løsninger, energi og tilgængelighed.</p>
              <div class="slide-tags">
                <span class="slide-tag">Bæredygtighed</span>
                <span class="slide-tag">Tekniske installationer</span>
                <span class="slide-tag">Udbudsprojekt</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 3: 3. semester -->
        <div class="slide">
          <div class="slide-content">
            <div class="slide-image">
              <div class="project-images" data-project="3">
                <div class="project-image active">
                  <img src="billeder/3-semester.png" alt="Visualiseringer" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/3-semester/K01_H1_E0X_N001_Beliggenhedsplan.jpg" alt="Beliggenhedsplan" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/3-semester/K01_H3_E0X_N003_Snit C-C.jpg" alt="Snit C-C" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/3-semester/K09_H1_EST_ Elementplan Lager og Produktionsbygning.jpg" alt="Elementplan" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/3-semester/K09_H5_E0X_ Detalje samling beton og træ.jpg" alt="Detalje samling beton og træ" loading="lazy">
                </div>
              </div>
              <button class="project-image-arrow prev" onclick="changeProjectImage(3, -1)">‹</button>
              <button class="project-image-arrow next" onclick="changeProjectImage(3, 1)">›</button>
              <div class="image-nav">
                <button class="image-dot active" onclick="showProjectImage(3, 1)"></button>
                <button class="image-dot" onclick="showProjectImage(3, 2)"></button>
                <button class="image-dot" onclick="showProjectImage(3, 3)"></button>
                <button class="image-dot" onclick="showProjectImage(3, 4)"></button>
                <button class="image-dot" onclick="showProjectImage(3, 5)"></button>
              </div>
            </div>
            <div class="slide-text">
              <h2 class="slide-title">3. Semester Industri- og kontor-byggeri</h2>
              <p class="slide-description">På 3. semester blev der arbejdet med projektering af en administrations-, produktions- og lagerbygning. 
                Opgaven omfattede forslagsprojekt, myndighedsprojekt efter BR18, udbuds- 
                og udførelsesprojekt med fokus på industrielt byggeri, præfabrikerede komponenter og energikrav.</p>
              <div class="slide-tags">
                <span class="slide-tag">Træelementer</span>
                <span class="slide-tag">Grønt tag</span>
                <span class="slide-tag">Betonsandwich</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 4: 4. semester -->
        <div class="slide">
          <div class="slide-content">
            <div class="slide-image">
              <div class="project-images" data-project="4">
                <div class="project-image active">
                  <img src="billeder/4-semester.jpg" alt="Graff's Hus Esbjerg" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/4-semester/IBK4E23_K17_H1_E04_N01 - Byggepladsplan for Uge 3.jpg" alt="Byggepladsplan" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/4-semester/K08_H0_E0X_N01_Oversigt - Ventilationsføring MEP.jpg" alt="Oversigt - Ventilationsføring MEP" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/4-semester/IBK4E23_K01_H6_E0X_N02_Rum-udfoldning Badeværelse 50 m2.jpg" alt="Rum-udfoldning Badeværelse" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/4-semester/K08_H5_E02_N01_Detalje Brandtætning omkring ventilationsrør.jpg" alt="Detalje Brandtætning omkring ventilationsrør" loading="lazy">
                </div>
              </div>
              <button class="project-image-arrow prev" onclick="changeProjectImage(4, -1)">‹</button>
              <button class="project-image-arrow next" onclick="changeProjectImage(4, 1)">›</button>
              <div class="image-nav">
                <button class="image-dot active" onclick="showProjectImage(4, 1)"></button>
                <button class="image-dot" onclick="showProjectImage(4, 2)"></button>
                <button class="image-dot" onclick="showProjectImage(4, 3)"></button>
                <button class="image-dot" onclick="showProjectImage(4, 4)"></button>
                <button class="image-dot" onclick="showProjectImage(4, 5)"></button>
              </div>
            </div>
            <div class="slide-text">
              <h2 class="slide-title">4. Semester Graff's Hus - Esbjerg</h2>
              <p class="slide-description">Randbebyggelse i fire etager med fokus på BR18, DGNB-krav, ventilation og tekniske installationer.</p>
              <div class="slide-tags">
                <span class="slide-tag">BR18</span>
                <span class="slide-tag">DGNB</span>
                <span class="slide-tag">Ventilation</span>
                <span class="slide-tag">Brandstrategi</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 5: Revit valgfag -->
        <div class="slide">
          <div class="slide-content">
            <div class="slide-image">
              <div class="project-images" data-project="5">
                <div class="project-image active">
                  <img src="billeder/Revit-modellering.png" alt="Revit modellering" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/valgfag-revit/Stueplan.jpg" alt="Stueplan" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/valgfag-revit/Opstalt Nord Re.jpg" alt="Nord Facade" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/valgfag-revit/211005 -Modul Vest 2.jpg" alt="Modul Vest 2" loading="lazy">
                </div>
              </div>
              <button class="project-image-arrow prev" onclick="changeProjectImage(5, -1)">‹</button>
              <button class="project-image-arrow next" onclick="changeProjectImage(5, 1)">›</button>
              <div class="image-nav">
                <button class="image-dot active" onclick="showProjectImage(5, 1)"></button>
                <button class="image-dot" onclick="showProjectImage(5, 2)"></button>
                <button class="image-dot" onclick="showProjectImage(5, 3)"></button>
                <button class="image-dot" onclick="showProjectImage(5, 4)"></button>
              </div>
            </div>
            <div class="slide-text">
              <h2 class="slide-title">Revit-modellering</h2>
              <p class="slide-description">Tiny house som modulbyggeri i træskelet med 3D-visualiseringer og fokus på bæredygtighed.</p>
              <div class="slide-tags">
                <span class="slide-tag">Modulbyggeri</span>
                <span class="slide-tag">3D-visualisering</span>
                <span class="slide-tag">Træskelet</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 6: Valgfag – Fra byggeprogram til dispositionsforslag -->
        <div class="slide">
          <div class="slide-content">
            <div class="slide-image">
              <div class="project-images" data-project="6">
                <div class="project-image active">
                  <img src="billeder/valgfag-dis/2 Hjørnet fra fugleflugt 2.png" alt="Visualisering" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/valgfag-dis/Beliggenhedsplan.jpg" alt="Beliggenhedsplan" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/valgfag-dis/Snit B-B & Vest facade.jpg" alt="Vest facade" loading="lazy">
                </div>
                 <div class="project-image">
                  <img src="billeder/valgfag-dis/Indretningsplan.jpg" alt="plantegning" loading="lazy">
                </div>
                <div class="project-image">
                  <img src="billeder/valgfag-dis/17 90 m2 lejlighed.png" alt="Visualisering - indretning" loading="lazy">
                </div>
              </div>
              <button class="project-image-arrow prev" onclick="changeProjectImage(6, -1)">‹</button>
              <button class="project-image-arrow next" onclick="changeProjectImage(6, 1)">›</button>
              <div class="image-nav">
                <button class="image-dot active" onclick="showProjectImage(6, 1)"></button>
                <button class="image-dot" onclick="showProjectImage(6, 2)"></button>
                <button class="image-dot" onclick="showProjectImage(6, 3)"></button>
                <button class="image-dot" onclick="showProjectImage(6, 4)"></button>
                <button class="image-dot" onclick="showProjectImage(6, 5)"></button>
              </div>
            </div>
            <div class="slide-text">
              <h2 class="slide-title">Fra byggeprogram til dispositionsforslag</h2>
              <p class="slide-description">Dispositionsforslag for Graff's Hus ud fra bygherreprogram og lokalplan – hovedtegninger, visualiseringer, materialer og overslag.</p>
              <div class="slide-tags">
                <span class="slide-tag">Bygherreprogram</span>
                <span class="slide-tag">Lokalplan</span>
                <span class="slide-tag">BR18</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Navigation arrows -->
      <button class="slide-arrow prev" onclick="changeSlide(-1)">‹</button>
      <button class="slide-arrow next" onclick="changeSlide(1)">›</button>

      <!-- Dot navigation (nu 6 dots) -->
      <div class="slideshow-nav">
        <button class="nav-dot active" onclick="currentSlide(1)"></button>
        <button class="nav-dot" onclick="currentSlide(2)"></button>
        <button class="nav-dot" onclick="currentSlide(3)"></button>
        <button class="nav-dot" onclick="currentSlide(4)"></button>
        <button class="nav-dot" onclick="currentSlide(5)"></button>
        <button class="nav-dot" onclick="currentSlide(6)"></button>
      </div>
    </div>
  </section>

  <main class="container">
    <h1>Projekter</h1>
    <p class="lead">Oversigt over mine studieprojekter fra 1. – 4. semester</p>

    <!-- SEMESTRE -->
    <section class="section" id="semestre">
      <h2>Semestre</h2>
      <div class="grid two">
        <!-- 1. semester -->
        <a class="card-link" href="1-semester.html">
        <article class="card" data-type="semester">
          <div class="thumb">
            <img src="billeder/rendering-1.png" alt="1. semester – parcelhus, render" loading="lazy">
            <div class="thumb-overlay">1. semester • 1½ plan enfamiliehus</div>
          </div>
          <div class="inner">
            <p class="text">På 1. semester blev der arbejdet med udarbejdelse af skitseforslag, projektforslag, 
        myndighedsprojekt i henhold til BR18 og lokalplan samt indledende udbudsprojekt for et enfamiliehus i 1½ plan. 
        Arbejdet gav indblik i grundlæggende byggetekniske discipliner, herunder materialevalg, konstruktionsprincipper og bygningsfysik.</p>
            <div class="chips">
              <span class="chip">Myndighedsprojekt</span>
              <span class="chip">Bygningsfysik</span>
              <span class="chip">Materialevalg</span>
            </div>
          </div>
        </article>
        </a>

        <!-- 2. semester -->
        <a class="card-link" href="2-semester.html">
        <article class="card" data-type="semester">
          <div class="thumb">
            <img src="billeder/2-semester.jpg" alt="2. semester – tæt-lavt boligområde & fælleshus" loading="lazy">
            <div class="thumb-overlay">2. semester • Tæt-lavt boligområde & fælleshus</div>
          </div>
          <div class="inner">
            <p class="text">På 2. semester blev der arbejdet med projektering af et tæt-lavt boligområde med tilhørende fælleshus. 
        Projektet omfattede tre boliger i to etager, hvoraf to skulle være sammenhængende og indrettet som handicapvenlige, 
        samt et fælleshus med kælder, stue- og 1. sal.
        Arbejdet omfattede udarbejdelse af forslagsprojekt, myndighedsprojekt i henhold til BR18 og lokalplan samt udbudsprojekt, 
        med fokus på arealudnyttelse, konstruktioner, materialevalg og bæredygtige løsninger.</p>
            <div class="chips">
              <span class="chip">Situationsplan</span>
              <span class="chip">Bygningsdesign</span>
              <span class="chip">Bæredygtighed</span>
              <span class="chip">Energikrav</span>
            </div>
          </div>
        </article>
        </a>

        <!-- 3. semester -->
        <a class="card-link" href="3-semester.html">
        <article class="card" data-type="semester">
          <div class="thumb">
            <img src="billeder/3-semester.png" alt="3. semester – administrationsbygning og produktions-/lagerbygning" loading="lazy">
            <div class="thumb-overlay">3. semester • Administrationsbygning og Produktions- og lagerbygningen</div>
          </div>
          <div class="inner">
            <p class="text">På 3. semester blev der arbejdet med projektering af en administrations-, produktions- og lagerbygning for en industrivirksomhed. 
                            Projektet omfattede forslagsprojekt, myndighedsprojekt, udbudsprojekt og udførelsesprojekt med fokus på industrielle byggemetoder, 
                            præfabrikerede byggekomponenter og energikrav.</p>
            <div class="chips">
              <span class="chip">Træelementer</span>
              <span class="chip">Grønt tag</span>
              <span class="chip">Betonelementer</span>
              <span class="chip">Tekniske installationer</span>
            </div>
          </div>
        </article>
        </a>

        <!-- 4. semester -->
        <a class="card-link" href="4-semester.html">
        <article class="card" data-type="semester">
          <div class="thumb">
            <img src="billeder/4-semester.jpg" alt="4. semester – Graff's Hus Esbjerg" loading="lazy">
            <div class="thumb-overlay">4. semester • Graff's Hus – Esbjerg</div>
          </div>
          <div class="inner">
            <p class="text">På 4. semester blev der arbejdet videre med et dispositionsforslag fra valgfaget Byggeprogram til dispositionsforslag. 
              Projektet omfattede udarbejdelse af projektforslag, myndighedsprojekt efter BR18 og lokalplan samt udbudsprojekt. 
              Bygningen rummer kælder med teknik og depot, stueetage med erhverv og restaurant samt tre etager med boliger og erhverv. 
              Kombinationen af funktioner stillede krav til arkitektur, brandsikkerhed, tilgængelighed og integration af tekniske installationer.</p>
            <div class="chips">
              <span class="chip">BR18</span>
              <span class="chip">DGNB</span>
              <span class="chip">Tekniske installationer</span>
              <span class="chip">LCAbyg</span>
              <span class="chip">Energiberegning</span>
              <span class="chip">Arbejdsmiljø</span>
              <span class="chip">Bygningsdelsbeskrivelser</span>
            </div>
          </div>
        </article>
        </a>
      </div>
    </section>

    <!-- VALGFAG -->
    <section class="section" id="valgfag">
      <h2>Valgfag</h2>
      <div class="grid two">
        <!-- Revit-modellering -->
        <a class="card-link" href="valgfag-revit.html">
          <article class="card" data-type="valgfag">
            <div class="thumb" aria-hidden="true">
              <img src="billeder/Revit-modellering.png" alt="Visualisering – revit modellering" loading="lazy">
              <div class="thumb-overlay">Valgfag: Revit-modellering</div>
            </div>
            <div class="inner">
              <p class="text">I valgfaget Revit-modellering blev der projekteret et tiny house som modulbyggeri i træskelet. Projektet omfattede optimering af plads og funktioner, indretning med sovepladser til fire personer, køkken, bad og toilet. Der blev lagt vægt på bæredygtighed, energirigtige valg, og overholdelse af lokalplankrav for sommerhusområder. Det visuelle udtryk blev bearbejdet med realistiske 3D-visualiseringer.</p>
              <div class="chips">
                <span class="chip">Modulbyggeri</span>
                <span class="chip">Træskelet</span>
                <span class="chip">3D-visualisering</span>
              </div>
            </div>
          </article>
        </a>

        <!-- Sikkerhed - DISABLED -->
        <div class="card-disabled">
          <article class="card" data-type="valgfag">
            <div class="thumb" aria-hidden="true">
              <img src="billeder/valgfag-sikkerhed/Byggepladsplan_page-0001.jpg" alt="s" loading="lazy">
              <div class="thumb-overlay">Valgfag: Sikkerhed</div>
            </div>
            <div class="inner">
              <p class="text">I valgfaget Sikkerhed blev der arbejdet med planlægning, granskning og opfølgning på arbejdsmiljøforhold i byggeprojekter. Projektet tog udgangspunkt i en case om korrekt montering, stabilitet og sikker brug af stilladser for at forebygge arbejds- og faldulykker. Der blev udarbejdet risikovurderinger, byggepladsplaner, beredskabsplaner, PSS, evakueringsplaner og organisationsdiagrammer, samt gennemført sikkerhedsmøder og granskning af gældende arbejdsmiljøregler. Dertil har jeg fået Arbejdsmiljøkoordinator-uddannelsen (AMK).</p>
              <div class="chips">
                <span class="chip">PSS</span>
                <span class="chip">Arbejdsmiljø</span>
                <span class="chip">Risikovurdering</span>
                <span class="chip">AMK</span>
              </div>
            </div>
          </article>
        </div>

        <!-- Fra byggeprogram til dispositionsforslag -->
        <a class="card-link" href="valgfag-dispositionsforslag.html">
          <article class="card" data-type="valgfag">
            <div class="thumb" aria-hidden="true">
              <img src="billeder/valgfag-dispositionsforslag.png" alt="Visualisering – Graff's Hus, Esbjerg" loading="lazy">
              <div class="thumb-overlay">Valgfag: Fra byggeprogram til dispositionsforslag</div>
            </div>
            <div class="inner">
              <p class="text">I valgfaget blev der, ud fra et bygherreprogram, udarbejdet et dispositionsforslag til et nybyggeri på en ledig grund i Esbjerg, kaldet Graff's Hus. Byggeriet er en randbebyggelse i fire etager med kælder, indeholdende butikker, restaurant, kontorer og boliger. Projektet gik ud på at analysere byggeprogram og lokalplan, skitsere og projektere i henhold til BR18, med fokus på at realisere bygherrens idéer og krav. Der blev udarbejdet hovedtegninger, visualiseringer, materialebeskrivelser, økonomisk overslag, tidsplan samt dokumentation for bæredygtige og genbrugte materialer.</p>
              <div class="chips">
                <span class="chip">Bygherreprogram</span>
                <span class="chip">Lokalplan</span>
                <span class="chip">BR18</span>
                <span class="chip">3D-visualisering</span>
              </div>
            </div>
          </article>
        </a>

        <!-- Tom boks som pladsfylder -->
        <article class="card" data-type="valgfag" aria-hidden="true">
          <div class="thumb" aria-hidden="true"></div>
          <div class="inner"></div>
        </article>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">© <span id="y"></span> Simon Vad Møller – Projekter</div>
  </footer>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="Projektbilleder">
    <button class="lb-btn lb-close" aria-label="Luk">✕</button>
    <button class="lb-btn lb-prev" aria-label="Forrige">‹</button>

    <!-- NY: billede + info i én lodret "stage" -->
    <div class="lb-stage" role="group" aria-label="Billedvisning">
      <img class="lb-img" alt="">
      <div class="lb-info" aria-live="polite">
        <h3 class="lb-title"></h3>
        <p class="lb-desc"></p>
        <a class="lb-more" href="#" aria-label="Se mere om projektet">Se mere →</a>
      </div>
    </div>

    <button class="lb-btn lb-next" aria-label="Næste">›</button>
    <div class="lb-counter" aria-live="polite"></div>
  </div>

  <script>
    // ======= Slideshow basics =======
    let slideIndex = 1;
    const slides = document.querySelectorAll('.slide');
    const dots = document.querySelectorAll('.nav-dot');

    // Project image indices - each project starts at image 1
    const projectImageIndices = { 1:1, 2:1, 3:1, 4:1, 5:1, 6:1 };

    function showSlide(n) {
      if (n > slides.length) slideIndex = 1;
      else if (n < 1) slideIndex = slides.length;
      else slideIndex = n;

      slides.forEach(slide => slide.classList.remove('active'));
      dots.forEach(dot => dot.classList.remove('active'));
      slides[slideIndex - 1].classList.add('active');
      dots[slideIndex - 1].classList.add('active');
    }

    // --- Stabil autoplay med setTimeout (nulstilles hver gang) ---
    const AUTOPLAY_MS = 15000; // <-- justér hastighed her
    let autoTimer = null;
    function scheduleAuto(){
      clearTimeout(autoTimer);
      autoTimer = setTimeout(() => {
        showSlide(slideIndex + 1);
        scheduleAuto(); // planlæg næste
      }, AUTOPLAY_MS);
    }
    scheduleAuto();

    function changeSlide(n){
      showSlide(slideIndex + n);
      scheduleAuto(); // start forfra efter manuel navigation
    }
    function currentSlide(n){
      showSlide(n);
      scheduleAuto();
    }

    function showProjectImage(projectId, imageIndex) {
      const projectContainer = document.querySelector(`[data-project="${projectId}"]`);
      const images = projectContainer.querySelectorAll('.project-image');
      const imageDots = projectContainer.parentElement.querySelectorAll('.image-dot');

      projectImageIndices[projectId] = imageIndex;

      images.forEach(img => img.classList.remove('active'));
      imageDots.forEach(dot => dot.classList.remove('active'));
      images[imageIndex - 1].classList.add('active');
      imageDots[imageIndex - 1].classList.add('active');
    }
    function changeProjectImage(projectId, direction) {
      const projectContainer = document.querySelector(`[data-project="${projectId}"]`);
      const totalImages = projectContainer.querySelectorAll('.project-image').length;
      let newIndex = projectImageIndices[projectId] + direction;
      if (newIndex > totalImages) newIndex = 1;
      if (newIndex < 1) newIndex = totalImages;
      showProjectImage(projectId, newIndex);
    }

    // Pause/resume autoplay på hover
    const slideshowContainer = document.querySelector('.slideshow-container');
    slideshowContainer.addEventListener('mouseenter', () => clearTimeout(autoTimer));
    slideshowContainer.addEventListener('mouseleave', scheduleAuto);

    // Keyboard navigation (slides) – deaktiveret når lightbox er åben
    document.addEventListener('keydown', (e) => {
      if (document.getElementById('lightbox').classList.contains('open')) return;
      if (e.key === 'ArrowLeft') changeSlide(-1);
      else if (e.key === 'ArrowRight') changeSlide(1);
    });

    // Auto-advance project images (kun på aktiv slide)
    function autoAdvanceProjectImages() {
      Object.keys(projectImageIndices).forEach(projectId => {
        const projectContainer = document.querySelector(`[data-project="${projectId}"]`);
        if (!projectContainer) return;
        const slide = projectContainer.closest('.slide');
        if (slide && slide.classList.contains('active')) {
          const totalImages = projectContainer.querySelectorAll('.project-image').length;
          if (totalImages > 1) changeProjectImage(parseInt(projectId), 1);
        }
      });
    }
    setInterval(autoAdvanceProjectImages, 5000);

    // ======= Lightbox + info =======
    const lightboxEl = document.getElementById('lightbox');
    const lbImg = lightboxEl.querySelector('.lb-img');
    const lbPrev = lightboxEl.querySelector('.lb-prev');
    const lbNext = lightboxEl.querySelector('.lb-next');
    const lbClose = lightboxEl.querySelector('.lb-close');
    const lbCounter = lightboxEl.querySelector('.lb-counter');

    const lbInfo = lightboxEl.querySelector('.lb-info');
    const lbTitle = lbInfo.querySelector('.lb-title');
    const lbDesc = lbInfo.querySelector('.lb-desc');
    const lbMore = lbInfo.querySelector('.lb-more');

    // Metadata pr. slide (titel/tekst/link)
    const slideMeta = {
      1: { title: "1. Semester - Enfamiliehus", desc: "På 1. semester blev der arbejdet med udarbejdelse af skitseforslag, projektforslag, myndighedsprojekt...", url: "1-semester.html" },
      2: { title: "2. Semester - Tæt-lavt Boligområde", desc: "På 2. semester blev der arbejdet med projektering af et tæt-lavt boligområde med tilhørende fælleshus.", url: "2-semester.html" },
      3: { title: "3. Semester - Træelementer & Betonsandwich", desc: "På 3. semester blev der arbejdet med projektering af en administrations-, produktions- og lagerbygning.", url: "3-semester.html" },
      4: { title: "4. Semester – Graff’s Hus", desc: "Randbebyggelse i fire etager. BR18, DGNB, ventilation og tekniske installationer.", url: "4-semester.html" },
      5: { title: "Valgfag: Revit-modellering", desc: "Tiny house som modulbyggeri i træskelet med realistiske 3D-visualiseringer.", url: "valgfag-revit.html" },
      6: { title: "Valgfag: Fra byggeprogram til dispositionsforslag", desc: "Dispositionsforslag for Graff's Hus – hovedtegninger, visualiseringer, materialer og overslag.", url: "valgfag-dispositionsforslag.html" },
    };

    let gallery = [];      // flad liste af billeder i rækkefølge
    let galleryIndex = 0;  // position i gallery

    function buildGallery() {
      const list = [];
      slides.forEach((slide, sIdx) => {
        const projectContainer = slide.querySelector('[data-project]');
        if (!projectContainer) return;
        const imgs = projectContainer.querySelectorAll('.project-image img');
        imgs.forEach((img) => {
          list.push({
            slideIdx: sIdx + 1,
            src: img.getAttribute('src'),
            alt: img.getAttribute('alt') || ''
          });
        });
      });
      return list;
    }

    function slidesToBuckets(flatGallery) {
      const map = new Map();
      flatGallery.forEach(item => {
        if (!map.has(item.slideIdx)) map.set(item.slideIdx, []);
        map.get(item.slideIdx).push(item);
      });
      const arr = [];
      for (let s = 1; s <= slides.length; s++) arr.push(map.get(s) || []);
      return arr;
    }

    function openLightboxFrom(slideNo) {
      const base = buildGallery();
      const buckets = slidesToBuckets(base);
      const ordered = [...buckets.slice(slideNo - 1), ...buckets.slice(0, slideNo - 1)].flat();
      gallery = ordered;

      const currentWithinFirst = (projectImageIndices[slideNo] || 1) - 1;
      const firstBucketLen = (buckets[slideNo - 1]?.length || 1);
      galleryIndex = Math.max(0, Math.min(currentWithinFirst, firstBucketLen - 1));

      renderLightbox();
      lightboxEl.classList.add('open');
      document.body.style.overflow = 'hidden';
    }

    function renderLightbox() {
      if (!gallery.length) return;
      const item = gallery[galleryIndex];
      lbImg.src = item.src;
      lbImg.alt = item.alt;
      lbCounter.textContent = `${galleryIndex + 1} / ${gallery.length}`;

      const thisSlideIdx = item.slideIdx;
      const meta = slideMeta[thisSlideIdx] || {title:'',desc:'',url:'#'};
      lbTitle.textContent = meta.title;
      lbDesc.textContent = meta.desc;
      lbMore.setAttribute('href', meta.url);

      resetZoom(true);
    }

    function lbNextImg(){ if (!gallery.length) return; galleryIndex = (galleryIndex + 1) % gallery.length; renderLightbox(); }
    function lbPrevImg(){ if (!gallery.length) return; galleryIndex = (galleryIndex - 1 + gallery.length) % gallery.length; renderLightbox(); }
    function lbCloseModal(){ lightboxEl.classList.remove('open'); gallery = []; document.body.style.overflow = ''; }

    // Åbn lightbox ved klik på slideshow-container (ignorer klik på kontroller/links/dots)
    const containerEl = document.querySelector('.slideshow-container');
    containerEl.addEventListener('click', (e) => {
      const isInteractive =
        e.target.closest('button') ||
        e.target.closest('a') ||
        e.target.closest('.image-dot') ||
        e.target.closest('.project-image-arrow') ||
        e.target.closest('.slide-arrow') ||
        e.target.closest('.nav-dot');
      if (isInteractive) return;
      openLightboxFrom(slideIndex);
    });

    // Lightbox kontroller
    document.querySelector('.lb-next').addEventListener('click', lbNextImg);
    document.querySelector('.lb-prev').addEventListener('click', lbPrevImg);
    document.querySelector('.lb-close').addEventListener('click', lbCloseModal);
    lightboxEl.addEventListener('click', (e) => { if (e.target === lightboxEl) lbCloseModal(); });
    document.addEventListener('keydown', (e) => {
      if (!lightboxEl.classList.contains('open')) return;
      if (e.key === 'Escape') lbCloseModal();
      if (e.key === 'ArrowRight') lbNextImg();
      if (e.key === 'ArrowLeft') lbPrevImg();
    });

    // ======= Zoom & pan i lightbox (uden HUD) =======
    let scale = 1, transX = 0, transY = 0;
    let isPanning = false, startX = 0, startY = 0;
    const MIN_SCALE = 1, MAX_SCALE = 4;

    function applyTransform(){
      lbImg.style.transform = `translate(${transX}px, ${transY}px) scale(${scale})`;
      lbImg.style.cursor = scale > 1 ? (isPanning ? 'grabbing' : 'grab') : 'default';
    }
    function clamp(val, min, max){ return Math.max(min, Math.min(max, val)); }

    function resetZoom(instant=false){
      scale = 1; transX = 0; transY = 0;
      lbImg.style.transition = instant ? 'transform .12s ease-out' : 'transform .2s ease-out';
      applyTransform();
      setTimeout(()=> lbImg.style.transition = 'transform .12s ease-out', 220);
    }

    lbImg.addEventListener('dblclick', () => {
      if (scale === 1){ scale = 2.5; transX = 0; transY = 0; }
      else resetZoom();
      applyTransform();
    });

    lightboxEl.addEventListener('wheel', (e) => {
      if (!lightboxEl.classList.contains('open')) return;
      e.preventDefault();
      const delta = -e.deltaY;
      const zoomFactor = 1 + (delta * 0.0015);
      const newScale = clamp(scale * zoomFactor, MIN_SCALE, MAX_SCALE);
      scale = newScale;
      if (scale <= 1.02) resetZoom(true);
      else applyTransform();
    }, { passive:false });

    lbImg.addEventListener('mousedown', (e) => {
      if (scale <= 1) return;
      isPanning = true;
      startX = e.clientX - transX;
      startY = e.clientY - transY;
      lbImg.style.cursor = 'grabbing';
    });
    window.addEventListener('mousemove', (e) => {
      if (!isPanning) return;
      transX = e.clientX - startX;
      transY = e.clientY - startY;
      applyTransform();
    });
    window.addEventListener('mouseup', () => {
      isPanning = false;
      if (scale <= 1.02) resetZoom(true);
      else lbImg.style.cursor = 'grab';
    });

    // ======= Footer year =======
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>

